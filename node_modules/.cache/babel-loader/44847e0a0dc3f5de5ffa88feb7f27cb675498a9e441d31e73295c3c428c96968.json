{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useReducer } from 'react';\nimport users_reducer from '../reducer/UsersReduser';\nimport { USERS_ACTIONS } from '../constants/UsersActions';\nimport axios from 'axios';\nimport { AUTH_API } from '../config/api';\nimport { AUTH_API_ENDPOINT } from '../router/pathes';\nconst initialState = {\n  users: [],\n  isLoading: false,\n  error: null\n};\nconst UseApi = (url, config) => {\n  _s();\n  const [state, dispatch] = useReducer(users_reducer, initialState);\n  const getUsers = async () => {\n    dispatch({\n      type: USERS_ACTIONS.REQUEST_START\n    });\n    try {\n      const {\n        data\n      } = await axios.get(url, config);\n      dispatch({\n        type: USERS_ACTIONS.REQUEST_SUCCESS_GET,\n        payload: data\n      });\n    } catch (error) {\n      dispatch({\n        type: USERS_ACTIONS.REQUEST_FAILURE,\n        payload: error.message\n      });\n    }\n  };\n  const deleteUser = async id => {\n    dispatch({\n      type: USERS_ACTIONS.REQUEST_START\n    });\n    try {\n      await axios.delete(AUTH_API + AUTH_API_ENDPOINT.DELETE_USER.replace(':id', id), config);\n      dispatch({\n        type: USERS_ACTIONS.REQUEST_SUCCESS_DELETE,\n        payload: id\n      });\n      console.log('success');\n    } catch (error) {\n      dispatch({\n        type: USERS_ACTIONS.REQUEST_FAILURE,\n        payload: error.message\n      });\n      console.log(error.message);\n    }\n  };\n  return {\n    ...state,\n    getUsers,\n    deleteUser\n  };\n};\n_s(UseApi, \"6JWkGZ32UPfojeNx+xqn8ZU8A0Q=\");\n_c = UseApi;\nexport default UseApi;\nvar _c;\n$RefreshReg$(_c, \"UseApi\");","map":{"version":3,"names":["useReducer","users_reducer","USERS_ACTIONS","axios","AUTH_API","AUTH_API_ENDPOINT","initialState","users","isLoading","error","UseApi","url","config","_s","state","dispatch","getUsers","type","REQUEST_START","data","get","REQUEST_SUCCESS_GET","payload","REQUEST_FAILURE","message","deleteUser","id","delete","DELETE_USER","replace","REQUEST_SUCCESS_DELETE","console","log","_c","$RefreshReg$"],"sources":["/home/salman/APPS/Tasks/gsg-tt9-gamers-website/src/hooks/useApi.jsx"],"sourcesContent":["import { useReducer } from 'react';\nimport users_reducer from '../reducer/UsersReduser';\nimport { USERS_ACTIONS } from '../constants/UsersActions';\nimport axios from 'axios';\nimport { AUTH_API } from '../config/api';\nimport { AUTH_API_ENDPOINT } from '../router/pathes';\n\nconst initialState = {\n  users: [],\n  isLoading: false,\n  error: null,\n};\nconst UseApi = (url, config) => {\n  const [state, dispatch] = useReducer(users_reducer, initialState);\n\n  const getUsers = async () => {\n    dispatch({ type: USERS_ACTIONS.REQUEST_START });\n    try {\n      const { data } = await axios.get(url, config);\n      dispatch({ type: USERS_ACTIONS.REQUEST_SUCCESS_GET, payload: data });\n    } catch (error) {\n      dispatch({ type: USERS_ACTIONS.REQUEST_FAILURE, payload: error.message });\n    }\n  };\n  const deleteUser = async (id) => {\n    dispatch({ type: USERS_ACTIONS.REQUEST_START });\n    try {\n      await axios.delete(\n        AUTH_API + AUTH_API_ENDPOINT.DELETE_USER.replace(':id', id),\n        config\n      );\n      dispatch({ type: USERS_ACTIONS.REQUEST_SUCCESS_DELETE, payload: id });\n      console.log('success');\n    } catch (error) {\n      dispatch({ type: USERS_ACTIONS.REQUEST_FAILURE, payload: error.message });\n      console.log(error.message);\n    }\n  };\n  return {\n    ...state,\n    getUsers,\n    deleteUser,\n  };\n};\nexport default UseApi;\n"],"mappings":";AAAA,SAASA,UAAU,QAAQ,OAAO;AAClC,OAAOC,aAAa,MAAM,yBAAyB;AACnD,SAASC,aAAa,QAAQ,2BAA2B;AACzD,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,QAAQ,QAAQ,eAAe;AACxC,SAASC,iBAAiB,QAAQ,kBAAkB;AAEpD,MAAMC,YAAY,GAAG;EACnBC,KAAK,EAAE,EAAE;EACTC,SAAS,EAAE,KAAK;EAChBC,KAAK,EAAE;AACT,CAAC;AACD,MAAMC,MAAM,GAAGA,CAACC,GAAG,EAAEC,MAAM,KAAK;EAAAC,EAAA;EAC9B,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGf,UAAU,CAACC,aAAa,EAAEK,YAAY,CAAC;EAEjE,MAAMU,QAAQ,GAAG,MAAAA,CAAA,KAAY;IAC3BD,QAAQ,CAAC;MAAEE,IAAI,EAAEf,aAAa,CAACgB;IAAc,CAAC,CAAC;IAC/C,IAAI;MACF,MAAM;QAAEC;MAAK,CAAC,GAAG,MAAMhB,KAAK,CAACiB,GAAG,CAACT,GAAG,EAAEC,MAAM,CAAC;MAC7CG,QAAQ,CAAC;QAAEE,IAAI,EAAEf,aAAa,CAACmB,mBAAmB;QAAEC,OAAO,EAAEH;MAAK,CAAC,CAAC;IACtE,CAAC,CAAC,OAAOV,KAAK,EAAE;MACdM,QAAQ,CAAC;QAAEE,IAAI,EAAEf,aAAa,CAACqB,eAAe;QAAED,OAAO,EAAEb,KAAK,CAACe;MAAQ,CAAC,CAAC;IAC3E;EACF,CAAC;EACD,MAAMC,UAAU,GAAG,MAAOC,EAAE,IAAK;IAC/BX,QAAQ,CAAC;MAAEE,IAAI,EAAEf,aAAa,CAACgB;IAAc,CAAC,CAAC;IAC/C,IAAI;MACF,MAAMf,KAAK,CAACwB,MAAM,CAChBvB,QAAQ,GAAGC,iBAAiB,CAACuB,WAAW,CAACC,OAAO,CAAC,KAAK,EAAEH,EAAE,CAAC,EAC3Dd,MACF,CAAC;MACDG,QAAQ,CAAC;QAAEE,IAAI,EAAEf,aAAa,CAAC4B,sBAAsB;QAAER,OAAO,EAAEI;MAAG,CAAC,CAAC;MACrEK,OAAO,CAACC,GAAG,CAAC,SAAS,CAAC;IACxB,CAAC,CAAC,OAAOvB,KAAK,EAAE;MACdM,QAAQ,CAAC;QAAEE,IAAI,EAAEf,aAAa,CAACqB,eAAe;QAAED,OAAO,EAAEb,KAAK,CAACe;MAAQ,CAAC,CAAC;MACzEO,OAAO,CAACC,GAAG,CAACvB,KAAK,CAACe,OAAO,CAAC;IAC5B;EACF,CAAC;EACD,OAAO;IACL,GAAGV,KAAK;IACRE,QAAQ;IACRS;EACF,CAAC;AACH,CAAC;AAACZ,EAAA,CA/BIH,MAAM;AAAAuB,EAAA,GAANvB,MAAM;AAgCZ,eAAeA,MAAM;AAAC,IAAAuB,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}