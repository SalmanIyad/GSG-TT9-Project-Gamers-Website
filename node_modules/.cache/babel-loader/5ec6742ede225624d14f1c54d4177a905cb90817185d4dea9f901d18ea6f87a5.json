{"ast":null,"code":"var _jsxFileName = \"/home/salman/APPS/Tasks/gsg-tt9-gamers-website/src/pages/UsersPage/index.jsx\",\n  _s = $RefreshSig$();\n/* eslint-disable eqeqeq */\nimport React, { useDeferredValue, useEffect, useState } from 'react';\nimport Table from '../../components/Table';\nimport { TABLE_COLUMNS } from '../../constants/TableColumns';\nimport { Typography } from '../../components/Typography';\nimport styles from './style.module.css';\nimport UseApi from '../../hooks/useApi';\nimport { AUTH_API } from '../../config/api';\nimport { AUTH_API_ENDPOINT } from '../../router/pathes';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst UsersPage = () => {\n  _s();\n  const [num, setNum] = useState(1);\n  const [search, setSearch] = useState('');\n  const [size, setSize] = useState(10);\n  const deferredQuery = useDeferredValue(search);\n  const token = localStorage.getItem('token');\n  const config = {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  };\n  const pageQuery = `&page=${num}`;\n  const searchQuery = search ? `&q=${deferredQuery}` : '';\n  const sizeQuery = `?size=${size}`;\n  const {\n    getUsers,\n    users,\n    isLoading,\n    deleteUser\n  } = UseApi(AUTH_API + AUTH_API_ENDPOINT.USERS + sizeQuery + searchQuery + pageQuery, config);\n  const prevSubmit = () => {\n    setNum(prev => num > 1 ? prev - 1 : num);\n  };\n  const nextSubmit = () => {\n    setNum(prev => num <= users.pages ? prev + 1 : num);\n  };\n  const onDeleteHandler = id => {\n    deleteUser(id);\n  };\n  const pageNumbers = Array.from({\n    length: users.pages\n  }, (_, index) => index + 1);\n  useEffect(() => {\n    getUsers();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [deferredQuery, size, num]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.users,\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: 'h3',\n      children: \"Users\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.search,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: e => setSearch(e.target.value),\n        type: \"text\",\n        name: \"search\",\n        placeholder: \"Search\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        onChange: e => setSize(e.target.value),\n        name: \"size\",\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"10\",\n          children: \"10\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"25\",\n          children: \"25\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"50\",\n          children: \"50\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"100\",\n          children: \"100\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"200\",\n          children: \"200\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"500\",\n          children: \"500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Table, {\n      columns: TABLE_COLUMNS(onDeleteHandler),\n      data: users === null || users === void 0 ? void 0 : users.users,\n      isLoading: isLoading\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `${styles.pageNumContainer} ${styles.pagination_buttons}`,\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: prevSubmit,\n        disabled: users.page === 1,\n        children: \"prev\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), users.pages > 1 && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [users.page > 3 && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles.pagination_points,\n          children: \"...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 32\n        }, this), pageNumbers.map(pageNumber => {\n          if (pageNumber === 1 || pageNumber === users.pages || pageNumber >= users.page - 2 && pageNumber <= users.page + 2) {\n            return /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setNum(pageNumber),\n              className: users.page === pageNumber ? styles.active_page : '',\n              children: pageNumber\n            }, pageNumber, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 19\n            }, this);\n          }\n          return null;\n        }), users.page < users.pages - 2 && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles.pagination_points,\n          children: \"...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 46\n        }, this)]\n      }, void 0, true), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: nextSubmit,\n        disabled: users.page === users.pages,\n        children: \"next\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n};\n_s(UsersPage, \"I3W1bMcO2ut7TGCUEjdiBI/GjAQ=\", false, function () {\n  return [useDeferredValue];\n});\n_c = UsersPage;\nexport default UsersPage;\nvar _c;\n$RefreshReg$(_c, \"UsersPage\");","map":{"version":3,"names":["React","useDeferredValue","useEffect","useState","Table","TABLE_COLUMNS","Typography","styles","UseApi","AUTH_API","AUTH_API_ENDPOINT","jsxDEV","_jsxDEV","Fragment","_Fragment","UsersPage","_s","num","setNum","search","setSearch","size","setSize","deferredQuery","token","localStorage","getItem","config","headers","Authorization","pageQuery","searchQuery","sizeQuery","getUsers","users","isLoading","deleteUser","USERS","prevSubmit","prev","nextSubmit","pages","onDeleteHandler","id","pageNumbers","Array","from","length","_","index","className","children","variant","fileName","_jsxFileName","lineNumber","columnNumber","onChange","e","target","value","type","name","placeholder","columns","data","pageNumContainer","pagination_buttons","onClick","disabled","page","pagination_points","map","pageNumber","active_page","_c","$RefreshReg$"],"sources":["/home/salman/APPS/Tasks/gsg-tt9-gamers-website/src/pages/UsersPage/index.jsx"],"sourcesContent":["/* eslint-disable eqeqeq */\nimport React, { useDeferredValue, useEffect, useState } from 'react';\nimport Table from '../../components/Table';\nimport { TABLE_COLUMNS } from '../../constants/TableColumns';\nimport { Typography } from '../../components/Typography';\nimport styles from './style.module.css';\nimport UseApi from '../../hooks/useApi';\nimport { AUTH_API } from '../../config/api';\nimport { AUTH_API_ENDPOINT } from '../../router/pathes';\n\nconst UsersPage = () => {\n  const [num, setNum] = useState(1);\n  const [search, setSearch] = useState('');\n  const [size, setSize] = useState(10);\n  const deferredQuery = useDeferredValue(search);\n\n  const token = localStorage.getItem('token');\n  const config = {\n    headers: { Authorization: `Bearer ${token}` },\n  };\n\n  const pageQuery = `&page=${num}`;\n  const searchQuery = search ? `&q=${deferredQuery}` : '';\n  const sizeQuery = `?size=${size}`;\n\n  const { getUsers, users, isLoading, deleteUser } = UseApi(\n    AUTH_API + AUTH_API_ENDPOINT.USERS + sizeQuery + searchQuery + pageQuery,\n    config\n  );\n\n  const prevSubmit = () => {\n    setNum((prev) => (num > 1 ? prev - 1 : num));\n  };\n  const nextSubmit = () => {\n    setNum((prev) => (num <= users.pages ? prev + 1 : num));\n  };\n  const onDeleteHandler = (id) => {\n    deleteUser(id);\n  };\n\n  const pageNumbers = Array.from({ length: users.pages }, (_, index) => index + 1);\n  \n  useEffect(() => {\n    getUsers();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [deferredQuery, size, num]);\n\n  return (\n    <div className={styles.users}>\n      <Typography variant={'h3'}>Users</Typography>\n      <div className={styles.search}>\n        <input\n          onChange={(e) => setSearch(e.target.value)}\n          type='text'\n          name='search'\n          placeholder='Search'\n        />\n        <select onChange={(e) => setSize(e.target.value)} name='size'>\n          <option value='10'>10</option>\n          <option value='25'>25</option>\n          <option value='50'>50</option>\n          <option value='100'>100</option>\n          <option value='200'>200</option>\n          <option value='500'>500</option>\n        </select>\n      </div>\n      <Table\n        columns={TABLE_COLUMNS(onDeleteHandler)}\n        data={users?.users}\n        isLoading={isLoading}\n      />\n      <div className={`${styles.pageNumContainer} ${styles.pagination_buttons}`}>\n        <button onClick={prevSubmit} disabled={users.page === 1}>\n          prev\n        </button>\n        {users.pages > 1 && (\n          <>\n            {users.page > 3 && <span className={styles.pagination_points}>...</span>}\n            {pageNumbers.map(pageNumber => {\n              if (pageNumber === 1 || pageNumber === users.pages || (pageNumber >= users.page - 2 && pageNumber <= users.page + 2)) {\n                return (\n                  <button\n                    key={pageNumber}\n                    onClick={() => setNum(pageNumber)}\n                    className={users.page === pageNumber ? styles.active_page : ''}\n                  >\n                    {pageNumber}\n                  </button>\n                );\n              }\n              return null;\n            })}\n            {users.page < users.pages - 2 && <span className={styles.pagination_points}>...</span>}\n          </>\n        )}\n        <button onClick={nextSubmit} disabled={users.page === users.pages}>\n          next\n        </button>\n      </div>\n    </div>\n  )\n};\n\nexport default UsersPage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}